version: "3.8"
services:
  shll-web:
    image: ghcr.io/kledx/shll-web:latest
    pull_policy: always
    restart: unless-stopped
    # ports:
    #   - "3000:3000"
    environment:
      - NODE_ENV=production
      - PORT=3000
      - HOSTNAME=0.0.0.0
      - PONDER_URL=http://shll-indexer:42069
      - RUNNER_URL=http://shll-agent-runner:8787
      - RUNNER_API_KEY=${RUNNER_API_KEY:-}
      - API_KEY=${API_KEY:-}
      - NEXT_PUBLIC_AGENT_NFA=${NEXT_PUBLIC_AGENT_NFA:-0x882503744A91f90D3b64AC52a6d0BA42549f3FF8}
      - NEXT_PUBLIC_LISTING_MANAGER=${NEXT_PUBLIC_LISTING_MANAGER:-0x5AE99B80E78D237C839b8Adad819AdAb34E00f55}
      - NEXT_PUBLIC_DEPLOY_BLOCK=${NEXT_PUBLIC_DEPLOY_BLOCK:-90773067}
      - NEXT_PUBLIC_RUNNER_OPERATOR=${NEXT_PUBLIC_RUNNER_OPERATOR:-}
      - NEXT_PUBLIC_EXPLORER_TX_BASE_URL=${NEXT_PUBLIC_EXPLORER_TX_BASE_URL:-https://testnet.bscscan.com/tx}
      - NEXT_PUBLIC_EXTRA_TOKENS=${NEXT_PUBLIC_EXTRA_TOKENS:-}
      - NEXT_PUBLIC_POLICY_GUARD_V3=${NEXT_PUBLIC_POLICY_GUARD_V3:-0x998C6b8683307842e79f59E96c9D3C5444769d3A}
      - NEXT_PUBLIC_ADMIN_WALLET=${NEXT_PUBLIC_ADMIN_WALLET:-}
    networks:
      - dokploy-network

networks:
  dokploy-network:
    external: true

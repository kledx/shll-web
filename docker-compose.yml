version: "3.8"
services:
  shll-web:
    image: ghcr.io/kledx/shll-web:latest
    pull_policy: always
    restart: unless-stopped
    # ports:
    #   - "3000:3000"
    environment:
      - NODE_ENV=production
      - PORT=3000
      - HOSTNAME=0.0.0.0
      - PONDER_URL=http://shll-indexer:42069
      - RUNNER_URL=http://shll-agent-runner:8787
      - RUNNER_API_KEY=${RUNNER_API_KEY:-}
      - API_KEY=${API_KEY:-}
      - NEXT_PUBLIC_AGENT_NFA=${NEXT_PUBLIC_AGENT_NFA:-0xb1642eA66f4C9A0A148E19bA5A213A7597FeE601}
      - NEXT_PUBLIC_LISTING_MANAGER=${NEXT_PUBLIC_LISTING_MANAGER:-0x152a2E2ab8F56613F1cB203cD681dEfFcD6c673A}
      - NEXT_PUBLIC_DEPLOY_BLOCK=${NEXT_PUBLIC_DEPLOY_BLOCK:-90771192}
      - NEXT_PUBLIC_RUNNER_OPERATOR=${NEXT_PUBLIC_RUNNER_OPERATOR:-}
      - NEXT_PUBLIC_EXPLORER_TX_BASE_URL=${NEXT_PUBLIC_EXPLORER_TX_BASE_URL:-https://testnet.bscscan.com/tx}
      - NEXT_PUBLIC_EXTRA_TOKENS=${NEXT_PUBLIC_EXTRA_TOKENS:-}
      - NEXT_PUBLIC_POLICY_GUARD_V3=${NEXT_PUBLIC_POLICY_GUARD_V3:-0xF8f3757B69Db8737F8dd1E3484d15343a4D21E2e}
      - NEXT_PUBLIC_ADMIN_WALLET=${NEXT_PUBLIC_ADMIN_WALLET:-}
    networks:
      - dokploy-network

networks:
  dokploy-network:
    external: true
